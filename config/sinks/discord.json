{
  "id": "discord",
  "type": "webhook",
  "name": "Discord Webhook",
  "enabled": false,
  "config": {
    "url": "${DISCORD_WEBHOOK_URL}",
    "method": "POST"
  },
  "template": {
    "username": "IRC Notify",
    "format": "json"
  },
  "payloadTransforms": [
    {
      "name": "discord-embed",
      "priority": 100,
      "bodyFormat": "json",
      "contentType": "application/json",
      "jsonTemplate": {
        "username": "{{username}}",
        "embeds": [
          {
            "title": "{{title}}",
            "description": "{{body}}",
            "color": 5814783,
            "timestamp": "{{context.timestamp}}",
            "fields": [
              {
                "name": "Server",
                "value": "{{context.server.displayName}}",
                "inline": true
              },
              {
                "name": "Channel",
                "value": "{{context.target.name}}",
                "inline": true
              }
            ],
            "footer": {
              "text": "IRC Notify"
            }
          }
        ]
      }
    }
  ],
  "allowedMetadata": [
    "username",
    "title",
    "body",
    "color",
    "fields",
    "footer"
  ],
  "metadata": {
    "description": "Send notifications to Discord channels via webhook"
  }
}